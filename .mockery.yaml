# Mockery v2 configuration for BirdNET-Go
# This file configures automated mock generation for testing

# Global settings
with-expecter: true  # Generate expecter methods for better test readability
filename: "mock_{{.InterfaceName}}.go"  # Name mocks clearly
dir: "{{.InterfaceDir}}/mocks"  # Put mocks in mocks subdirectory
outpkg: mocks  # Package name for generated mocks

# Package-specific configurations
packages:
  github.com/tphakala/birdnet-go/internal/datastore:
    config:
      # All interfaces in this package should be mocked
      all: true
    interfaces:
      # Main datastore interface - this is the critical one
      Interface:
        config:
          filename: "mock_Interface.go"
          mockname: "MockInterface"

  github.com/tphakala/birdnet-go/internal/notification:
    interfaces:
      # Provider interface for push notification providers
      Provider:
        config:
          filename: "mock_Provider.go"
          mockname: "MockProvider"
      # NotificationStore interface for storage backends
      NotificationStore:
        config:
          filename: "mock_NotificationStore.go"
          mockname: "MockNotificationStore"
      # TelemetryReporter interface for telemetry integration
      TelemetryReporter:
        config:
          filename: "mock_TelemetryReporter.go"
          mockname: "MockTelemetryReporter"

  github.com/tphakala/birdnet-go/internal/events:
    interfaces:
      # ErrorEvent interface for error event handling
      ErrorEvent:
        config:
          filename: "mock_ErrorEvent.go"
          mockname: "MockErrorEvent"
